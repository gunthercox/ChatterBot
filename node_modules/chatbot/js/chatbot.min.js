var ChatBot=function(){var e;var k;var j;var h;var g;var d;var l=[];var b;var c=false;var i;function n(){var v="";var t=[];var r,q;for(r=0;r<e.length;r++){if(e[r].description!=undefined){t.push(e[r].description)}}for(r=0;r<b.length;r++){var o=b[r].getCapabilities();for(q=0;q<o.length;q++){t.push(o[q])}}l=[];for(r=0;r<t.length;r++){var u=t[r].replace(/(['"][^'"]+['"])/gi,'<span class="phraseHighlight">$1</span>');u=u.replace(/(\[[^\[\]]+\])/gi,'<span class="placeholderHighlight">$1</span>');var s=u.match(/<span class=['"]phraseHighlight["']>['"](.+?)['"]<\/span>/gi);if(s!=null){for(q=0;q<s.length;q++){var w=s[q].replace(/<\/?span[^>]*>/gi,"");l.push(w.replace(/['"]/gi,""))}}v+='<div class="commandDescription">'+u+"</div>"}var p=$("#chatBotCommands");if(p.size()==0){p=$('<datalist id="chatBotCommands">');$("body").append(p)}else{p.html("")}for(r=0;r<l.length;r++){p.append($('<option value="'+l[r]+'"></option>'))}$("#chatBotCommandDescription").html(v)}function a(p,o){setTimeout(function(){var t="";if($(g).val()!="|"){t+=$(g).val()}t+=p.currentInput.slice(p.start,p.start+1);$(g).val(t);p.start++;if(p.start<p.currentInput.length){a(p,o)}else{ChatBot.addChatEntry(p.currentInput,"human");ChatBot.react(p.currentInput);$(g).val(p.currentInput);setTimeout(function(){p.conversationArrayIndex++;p.conversationArrayIndex=p.conversationArrayIndex%p.conversationArray.length;if(p.conversationArrayIndex==0){$("#chatBotConversationLoadingBar").remove();c=false;return}p.start=0;$(g).val("|");p.currentInput=p.conversationArray[p.conversationArrayIndex];a(p,o)},o);var q=$("#chatBotConversationLoadingBar");if(q.size()==0){q=$('<div id="chatBotConversationLoadingBar"></div>');q.css("position","absolute");$("body").append(q)}var s=$(g).offset().left;var r=$(g).offset().top+$(g).outerHeight()-3;q.css("left",s+"px");q.css("top",r+"px");q.animate({width:$(g).outerWidth()+"px"},o,function(){q.css("width","0")})}},Math.random()*120+10)}return{Engines:{webknox:function(q){var o=["Ask for stock prices like 'stock price apple' or '[company] stock'.","Ask for distances as in 'how far is Perth from Melbourne' or 'distance between [place1] and [place2]'.","Want to know what the weather is like, just ask like 'weather in San Diego, California'.","Let WebKnox tell you a joke, just say 'tell me a joke'.","Convert units, e.g. '2.4 miles in kilometers' or '4 tablespoons to ml?'.","Get synonyms for a word, e.g. 'synonyms for car'.","Ask for quotes like 'quotes about [topic]' or 'quotes about love'.","Ask for quotes from a person 'quotes by [person]' or 'quotes by aristotle'.","Ask for recipes like 'spaghetti recipes' or 'chocolate donuts'.","Ask for nutrient contents like 'vitamin a in 2 carrots' or 'calories is 1 cup of butter'.","Convert ingredients like '2 cups of butter in grams'.","If you want more results, just say 'more'.","For more similar results say 'more like the first/second/third...'.","Or just ask anything that comes to mind like 'Who was pope in 1499?' or 'Who directed braveheart?'."];var p=Math.random()*100000;return{react:function(r){$.get("https://webknox-question-answering.p.mashape.com/questions/converse?mashape-key="+q+"&contextId="+p+"&text="+encodeURIComponent(r),function(v){var u=v.answerText;if(v.media!=undefined){u+="<br>";for(var t=0;t<v.media.length;t++){var s=v.media[t];u+='<div class="imgBox"><img src="'+s.image+'" /><div class="title">'+s.title+'</div><div class="actions"><div class="button blue" onclick="document.location.href=\''+s.link+'\'">Details</div><br><div class="button blue" onclick=" ChatBot.addChatEntry(\'more like number '+(t+1)+"','human');ChatBot.react('more like "+(t+1)+"');\">More like this</div></div></div>"}}ChatBot.addChatEntry(u,"bot");ChatBot.thinking(false)})},getCapabilities:function(){return o},getSuggestUrl:function(){return"https://webknox-question-answering.p.mashape.com/questions/converse/suggest?mashape-key="+q+"&query="}}},spoonacular:function(q){var o=["Ask for recipes like 'chicken recipes' or 'spaghetti with shrimp'","Ask for nutrient contents like 'vitamin a in 2 carrots' or 'calories is 1 cup of butter'","Convert something with '2 cups of butter in grams'","If you want more results, just say 'more'","For more similar results say 'more like the first/second/third...'","Let spoonacular tell you a joke, just say 'tell me a joke'."];var p=Math.random()*100000;return{react:function(r){$.get("https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/food/converse?mashape-key="+q+"&contextId="+p+"&text="+encodeURIComponent(r),function(v){var u=v.answerText;if(v.media!=undefined){u+="<br>";for(var t=0;t<v.media.length;t++){var s=v.media[t];u+='<div class="imgBox"><img src="'+s.image+'" /><div class="title">'+s.title+'</div><div class="actions"><div class="button blue" onclick="document.location.href=\''+s.link+'\'">Details</div><br><div class="button blue" onclick=" ChatBot.addChatEntry(\'more like number '+(t+1)+"','human');ChatBot.react('more like "+(t+1)+"');\">More like this</div></div></div>"}}ChatBot.addChatEntry(u,"bot");ChatBot.thinking(false)})},getCapabilities:function(){return o},getSuggestUrl:function(){return"https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/food/converse/suggest?mashape-key="+q+"&query="}}},duckduckgo:function(){var o=["Ask what something is like 'What is DNA'?","Ask where something is like 'Where is China'?","Ask about a person like 'Who is Bill Gates'?","Say a movie/person/location name like 'Braveheart' to get information about that entity","Say a something like 'simpsons characters' to get information about that phrase"];return{react:function(p){$.ajax({type:"GET",url:"http://api.duckduckgo.com/?format=json&pretty=1&q="+encodeURIComponent(p),dataType:"jsonp"}).done(function(u){var t=u.AbstractText;if(t==""&&u.RelatedTopics.length>0){t="<p>I found multiple answers for you:</p>";var v=[];for(var s=0;s<u.RelatedTopics.length;s++){var r=u.RelatedTopics[s];if(r.Result==undefined){continue}if(r.Icon.URL!=""&&r.Icon.URL.indexOf(".ico")<0){v.push(r.Icon.URL)}t+="<p>"+r.Result.replace("</a>","</a> ")+"</p>"}for(s=0;s<v.length;s++){var q=v[s];t+='<img src="'+q+'" style="margin-right:5px"/>'}}else{if(u.Image!=undefined&&u.Image!=""){t+="<br>";t+='<div class="imgBox"><img src="'+u.Image+'" /><div class="title">'+u.Heading+"</div></div>"}}ChatBot.addChatEntry(t,"bot");ChatBot.thinking(false)})},getCapabilities:function(){return o},getSuggestUrl:function(){return null}}}},init:function(o){var p=jQuery.extend({botName:"Bot",humanName:"You",thinkingHtml:'<img src="data:image/gif;base64,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"/>',inputs:"",inputCapabilityListing:true,engines:[],patterns:[],addChatEntryCallback:function(r,s,q){r.addClass("appear")}},o);k=p.botName;j=p.humanName;h=p.thinkingHtml;g=p.inputs;d=p.inputCapabilityListing;b=p.engines;e=p.patterns;i=p.addChatEntryCallback;n();if(d){$(g).attr("list","chatBotCommands")}$(g).keyup(function(q){if(q.keyCode==13){ChatBot.addChatEntry($(this).val(),"human");ChatBot.react($(this).val())}})},setBotName:function(o){k=o},setHumanName:function(o){j=o;$(".chatBotChatEntry.human .origin").html(o)},addChatEntry:function m(q,o){if(q==undefined){return}if(q==""){q="Sorry, I have no idea."}var p=$('<div class="chatBotChatEntry '+o+'"></div>');p.html('<span class="origin">'+(o=="bot"?k:j)+"</span>"+q);$("#chatBotHistory").prepend(p);if(i!=undefined){i.call(this,p,q,o)}},thinking:function(o){var p=$("#chatBotThinkingIndicator");if(o){if(!c){$(g).attr("disabled","disabled")}p.html(h)}else{if(!c){$(g).removeAttr("disabled");$(g).val("");$(g).focus()}p.html("")}},react:function f(x){this.thinking(true);for(var s=0;s<e.length;s++){var v=e[s];var o=new RegExp(v.regexp,"i");var t=x.match(o);if(t){switch(v.actionKey){case"rewrite":x=v.actionValue;for(var q=1;q<t.length;q++){x=x.replace("$"+q,t[q])}if(v.callback!=undefined){v.callback.call(this,t)}break;case"response":var p=v.actionValue;if(p!=undefined){for(var q=1;q<t.length;q++){p=p.replace("$"+q,t[q])}this.addChatEntry(p,"bot")}ChatBot.thinking(false);if(v.callback!=undefined){v.callback.call(this,t)}return}break}}for(var u=0;u<b.length;u++){var w=b[u];w.react(x)}},playConversation:function(p,o){if(o==undefined){o=3000}if(c){return false}$(g).val("");c=true;var q={start:0,conversationArrayIndex:0,conversationArray:p,currentInput:p[0]};a(q,o);return true},addPatternObject:function(o){e.push(o);n()},addPattern:function(q,p,s,t,o){var r={regexp:q,actionKey:p,actionValue:s,description:o,callback:t};this.addPatternObject(r)}}}();